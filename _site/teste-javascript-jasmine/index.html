<!doctype html>
<html lang="en">
<meta charset="utf-8">
<title>Testes em Javascript - Jasmine &#8211; Tarsis Azevedo</title>
<meta name="description" content="">
<meta name="keywords" content="jasmine, programming, javascript, tdd, bdd">


<meta property="og:locale" content="en_US">
<meta property="og:title" content="Testes em Javascript - Jasmine &#8211; Tarsis Azevedo">
<meta property="og:description" content="Testes automatizados emergiram como uma das boas praticas da engenharia de software, e seus resultados sao comprovada...">
<meta property="og:url" content="/teste-javascript-jasmine">
<meta property="og:site_name" content="Tarsis Azevedo">


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Tarsis Azevedo Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Type -->
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Crimson+Text:400,400italic,700,700italic" rel='stylesheet' type='text/css' />
<link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700" rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="/assets/css/entypo.css" media="all">

<!-- In order to use Calendas Plus, you must first purchase it. Then, create a font-face package using FontSquirrel.
<link rel='stylesheet' href='/assets/cal.css' media='all' />
-->



<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/i.css">

<!-- Fresh Squeezed jQuery -->

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>


<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="/favicon.ico">

<div id="bump">
  <body class="">
    <header class="site-header">
      <div class="wrap">
        <hgroup>
          <h1><a href="/">Tarsis Azevedo</a></h1>
        </hgroup>
        <a href="#nav" class="menu"><span class='icons'>☰</span></a>
        <nav role="navigation">
          <ul>
            <li>
              <a href="/" title="Tarsis Azevedo">Home</a>
            </li>

            
                <li><a href="http://tarsisazevedo.com" target="_blank">About</a></li>
            
                <li><a href="https://github.com/tarsis" target="_blank">Github</a></li>
            

          </ul>
        </nav>
      </div>
    </header>


<section class="article">


  <div class="overlay"></div>
  <div class="featured-image" style="background-image: url(/images/typewriter.jpg)"></div>



      <article class="wrap post">
        <header class="post-header">
          <hgroup>
            <h1>Testes em Javascript - Jasmine</h1>
            <p class="date">Feb 01, 2012</p>
            <p class="intro"></p>
          </hgroup>
        </header>
        <p>Testes automatizados emergiram como uma das boas praticas da engenharia de software, e seus resultados sao comprovadamente eficazes.</p>

<p>Eu utilizo bastante essas tecnicas quando programo em python/django com ferramentas como o splinter, unittest entre outras. Porem quando programava em javacript, eu sempre senti falta desses testes automatizados.</p>

<p>E o Jasmine?</p>

<p>tl;dr - Jasmine is a behavior-driven development framework for testing your JavaScript code.
  It does not depend on any other JavaScript frameworks.
  It does not require a DOM.
  And it has a clean, obvious syntax so that you can easily write tests.</p>

<p>Em setembro do ano passado (2011), comecei a trabalhar no projeto de cobertura de eventos na globo.com. E tinhamos como desafio principal, atualizar uma pagina em tempo real via streaming com fotos, videos e textos. Pra isso os componentes da pagina teriam que interagir muito, recebendo e tratando os dados enviados do streaming. Usamos muito js com o framework mootools, e pra testar usamos o jasmine, o que nos proporcionou uma segurança e qualidade de codigo excelentes!</p>

<p>Agora chega de falar!</p>

<p>Show me the code</p>

<p>Pra começar, vc descreve um cenario que vai testar.</p>

<p>Como exemplo, vamos fazer um fizzbuzz</p>

<div class="highlight"><pre><code class="javascript"><span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;Fizz Buzz&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">fizzbuzz</span><span class="p">(</span><span class="mi">3</span><span class="p">)).</span><span class="nx">toEqual</span><span class="p">(</span><span class="s2">&quot;fizz&quot;</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>

<p>Depois de escrever o teste, a gente escreve um codigo pra passar:</p>

<div class="highlight"><pre><code class="javascript"><span class="kd">var</span> <span class="nx">fizzbuzz</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">numero</span><span class="p">)</span> <span class="p">{</span>
<span class="p">}</span>
</code></pre></div>

<p>Agora mais um cenario:</p>

<div class="highlight"><pre><code class="javascript"><span class="nx">it</span><span class="p">(</span><span class="s2">&quot;numero igual a cinco, deve retornar buzz&quot;</span><span class="p">,</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
<span class="p">});</span>
</code></pre></div>

<p>mais um pouco de codigo:</p>

<div class="highlight"><pre><code class="javascript"><span class="kd">var</span> <span class="nx">fizzbuzz</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">numero</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s2">&quot;fizz&quot;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<p>Bom ai vcs podem continuar a brincar e terminar o codigo.</p>

<p>E pra rodar?</p>

<p>Bom vc pode carregar os scripts(download aqui) do jasmine numa pagina html estatica e por ultimo carregar o seu teste.
Um exemplo:</p>

<div class="highlight"><pre><code class="html"><span class="cp">&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span>
<span class="cp">  &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;</span>
<span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;title&gt;</span>Jasmine Test Runner<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">type=</span><span class="s">&quot;text/css&quot;</span> <span class="na">href=</span><span class="s">&quot;lib/jasmine-1.0.2/jasmine.css&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src=</span><span class="s">&quot;lib/jasmine-1.1.0/jasmine.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src=</span><span class="s">&quot;arquivo/de/teste.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>
        <span class="nx">jasmine</span><span class="p">.</span><span class="nx">getEnv</span><span class="p">().</span><span class="nx">addReporter</span><span class="p">(</span><span class="k">new</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">TrivialReporter</span><span class="p">());</span>
        <span class="nx">jasmine</span><span class="p">.</span><span class="nx">getEnv</span><span class="p">().</span><span class="nx">execute</span><span class="p">();</span>
    <span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div>

<p>Se vc tem um projeto em ruby com rails, vc pode usar uma gem pra rodar os testes.</p>

<p>Se vc tem um projeto em python, pode usar o jasmine-test-runner, feito pelo cobrateam.</p>

<p>Se vc tem um projeto em outra linguagem, veja aqui como rodar o jasmine.</p>

<p>Entao é isso!</p>

<p>Até a proxima, []’s</p>

      <a class="share" href="https://twitter.com/intent/tweet?text=&quot;Testes em Javascript - Jasmine&quot;%20%20via%20&#64;tarsisazevedo" data-dnt="true">Share</a>
      <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

      


      </article>

    </section>
</div>

<div class="push"></div>
  <footer>
    <aside class="wrap">
      <ol class="prev-posts">
        <p class="list-title">Recent Posts</p>
         <!-- for1 -->
            <li>
              <span class="recent-title"><a href="/scti-uenf-2013-eu-fui" title="SCTI - UENF Eu fui!">SCTI - UENF Eu fui! </a></span>
              <span class="date">Nov 08, 2013</span>
            </li>
         <!-- for1 -->
            <li>
              <span class="recent-title"><a href="/review-pro-git" title="[review] Pro Git">[review] Pro Git </a></span>
              <span class="date">Mar 15, 2012</span>
            </li>
         <!-- for1 -->
            <li>
              <span class="recent-title"><a href="/aprendendo-c-formatacao-printf-tutorial" title="Aprendendo C - formatação do printf">Aprendendo C - formatação d... </a></span>
              <span class="date">Mar 04, 2012</span>
            </li>
        
      </ol>
      
      <div class="social">
        <ul>
            <li><a id="mail" href="mailto:tarsis.azevedo@gmail.com"><span class="foot-link">Contact Me</span></a></li>
            
             
            <li><a id="twit" href="http://twitter.com/tarsisazevedo" target="_blank"><span class="foot-link">@tarsisazevedo</span></a></li> 
            
            
            
            
        </ul>
    </div>
    </aside>
    <small>&copy; 2013 Tarsis Azevedo. Powered by <a href="http://jekyllrb.com">Jekyll</a> using the <a href="http://jekyll.gtat.me/about">Balzac</a> theme.</small>
  </footer>

  <!-- If they're out, get some from the cellar -->
  <script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
  <script src="/assets/js/retina.min.js"></script>

  <!-- Custom JS -->
  <script src="/assets/js/scripts.js"></script>
  

  </body>
</html>

